/**
 * This header is generated by class-dump-z 0.2-1.
 * class-dump-z is Copyright (C) 2009 by KennyTM~, licensed under GPLv3.
 *
 * Source: /System/Library/PrivateFrameworks/Message.framework/Message
 */

#import "Message-Structs.h"
#import "Account.h"
#import "MailAccount.h"

@class NSString, MFError, MailboxUid, NSMutableDictionary, MessageLibrary, NSURL, DeliveryAccount;

@interface MailAccount : Account {
	NSString* _path;
	MailboxUid* _rootMailboxUid;
	struct {
		unsigned cacheDirtyCount : 16;
		unsigned synchronizationThreadIsRunning : 1;
		unsigned backgroundFetchInProgress : 1;
		unsigned cacheHasBeenRead : 1;
		unsigned disableCacheWrite : 1;
		unsigned _UNUSED_ : 12;
	} _flags;
	MailboxUid* _inboxMailboxUid;
	MailboxUid* _draftsMailboxUid;
	MailboxUid* _sentMessagesMailboxUid;
	MailboxUid* _trashMailboxUid;
	MFError* _lastConnectionError;
	MessageLibrary* _library;
	NSMutableDictionary* _currentChokedActions;
}
// inherited: +(void)initialize;
+(BOOL)mailboxListingNotificationAreEnabled;
+(void)disableMailboxListingNotifications;
+(void)enableMailboxListingNotifications:(BOOL)notifications;
// inherited: +(BOOL)haveAccountsBeenConfigured;
+(void)_addAccountToSortedPaths:(id)sortedPaths;
+(id)existingDAMailAccountForDAAccount:(id)daaccount;
+(id)_loadAllAccounts;
+(void)reloadAccounts;
+(NSArray*)mailAccounts;	// NSArray of Accounts
+(void)setMailAccounts:(id)accounts;
+(void)_removeAccountFromSortedPaths:(id)sortedPaths;
+(NSArray*)activeAccounts;
+(void)setMailAccounts:(id)accounts saveIfChanged:(BOOL)changed;
+(void)setMailAccounts:(id)accounts reload:(BOOL)reload initialize:(BOOL)initialize saveIfChanged:(BOOL)changed;
+(void)removeOrphanedAccountData;
// inherited: +(void)saveAccountInfoToDefaults;
+(id)accountWithUniqueId:(id)uniqueId;
+(id)existingAccountWithType:(id)type hostname:(id)hostname username:(id)username;
+(void)resetMailboxTimers;
+(void)updateAutoFetchSettings;
+(id)allEmailAddressesIncludingFullUserName:(BOOL)name includeReceiveAliases:(BOOL)aliases;
+(id)_accountContainingEmailAddress:(id)address matchingAddress:(id*)address2 fullUserName:(id*)name includingInactive:(BOOL)inactive;
+(id)accountContainingEmailAddress:(id)address includingInactive:(BOOL)inactive;
+(MailAccount*)accountContainingEmailAddress:(NSString*)address;
+(id)accountForHeaders:(id)headers message:(id)message;
+(id)accountUsingHeadersFromMessage:(id)message;
+(id)accountThatMessageIsFrom:(id)from;
+(id)addressesThatReceivedMessage:(id)message;
+(MailboxUid*)outboxMailboxUid;
+(id)outboxMessageStore:(BOOL)store;
+(NSArray*)allMailboxUids;	// NSArray of MailboxUids
+(id)accountWithPath:(id)path;
+(id)newAccountWithPath:(id)path;
// inherited: +(id)createAccountWithDictionary:(id)dictionary;
+(id)defaultPathForAccountWithHostname:(id)hostname username:(id)username;
+(NSString*)defaultAccountDirectory;
+(id)defaultPathNameForAccountWithHostname:(id)hostname username:(id)username;
+(MailAccount*)defaultMailAccountForDelivery;
+(DeliveryAccount*)defaultDeliveryAccount;
// inherited: +(BOOL)isPredefinedAccountType;
+(BOOL)isAnyAccountOffline;
+(BOOL)isAnyAccountOnline;
+(void)_setOnlineStateOfAllAccountsTo:(BOOL)to;
+(void)disconnectAllAccounts;
+(void)connectAllAccounts;
+(void)saveStateForAllAccounts;
+(void)synchronouslyEmptyMailboxUidType:(int)type inAccounts:(id)accounts;
+(id)mailboxUidForFileSystemPath:(id)fileSystemPath create:(BOOL)create;
+(void)deleteMailboxUidIfEmpty:(id)empty;
+(MailAccount*)_accountForURL:(NSURL*)url;
+(id)infoForURL:(NSURL*)url;
+(NSURL*)URLForInfo:(id)info;
+(MailAccount*)accountWithURLString:(NSString*)urlstring;
+(MailboxUid*)mailboxUidForURL:(NSString*)url;
+(id)standardAccountClass:(Class)aClass valueForKey:(id)key;
// inherited: +(id)predefinedValueForKey:(id)key;
+(BOOL)usernameIsEmailAddress;
+(BOOL)getConfigurationFromServerForEmail:(id)email;
-(void)accountDidLoad;
-(void)resetMailboxTimer;
-(BOOL)isValidAccountWithError:(id)error accountBeingEdited:(id)edited userCanOverride:(BOOL*)override;
-(BOOL)cheapStoreAtPathIsEmpty:(id)pathIsEmpty;
// inherited: -(void)_setAccountProperties:(id)properties;
// inherited: -(id)init;
-(id)initWithPath:(id)path;
-(void)invalidate;
// inherited: -(void)dealloc;
-(NSString*)path;
-(void)setPath:(NSString*)path;
-(id)tildeAbbreviatedPath;
-(NSString*)fullUserName;
-(void)setFullUserName:(NSString*)name;
-(DeliveryAccount*)deliveryAccount;
-(id)deliveryAccountAlternates;
-(void)setDeliveryAccount:(id)account;
-(void)setDeliveryAccountAlternates:(id)alternates;
-(BOOL)canUseDeliveryAccount:(id)account;
-(void)setCanUseCarrierDeliveryFallback:(BOOL)fallback;
-(BOOL)canUseCarrierDeliveryFallback;
-(void)deliveryAccountWillBeRemoved:(id)deliveryAccount;
-(BOOL)isDotMacAccount;
-(NSString*)firstEmailAddress;
-(NSArray*)emailAddresses;
-(void)setEmailAddresses:(id)addresses;
-(id)receiveEmailAliasAddresses;
-(void)setReceiveEmailAliasAddresses:(id)addresses;
-(NSArray*)emailAddressesAndAliases;
-(void)_deleteHook;
-(void)_synchronouslyInvalidateAndDelete:(unsigned)aDelete;
-(void)_synchronouslyInvalidateAndDeleteWrapper:(id)wrapper;
-(id)deleteAccountWithOptions:(unsigned)options;
-(id)deleteAccount;
-(void)saveState;
// inherited: -(void)releaseAllConnections;
// inherited: -(void)releaseAllForcedConnections;
// inherited: -(void)setIsOffline:(BOOL)offline;
-(BOOL)canFetch;
-(void)nowWouldBeAGoodTimeToStartBackgroundSynchronization;
-(void)fetchMailboxList;
-(BOOL)canAppendMessages;
-(BOOL)canBeSynchronized;
-(void)synchronizeAllMailboxes;
-(void)fetchAsynchronously;
-(void)fetchAsynchronouslyLite;
-(int)fetchSynchronouslyLite;
-(int)fetchSynchronously;
-(BOOL)isFetching;
-(void)newMailHasBeenReceived;
-(MailboxUid*)primaryMailboxUid;	// The Inbox
-(MailboxUid*)rootMailboxUid;
-(BOOL)shouldExpungeMessagesOnDelete;
-(id)mailboxUidOfType:(int)type createIfNeeded:(BOOL)needed;
-(id)specialMailboxNameForType:(int)type;
-(NSArray*)allMailboxUids;
-(id)transferDisabledMailboxUids;
-(void)setMailboxUid:(id)uid forMailboxType:(int)mailboxType;
-(void)deleteMessagesFromMailboxUid:(id)mailboxUid olderThanNumberOfDays:(unsigned)days;
-(void)_setEmptyFrequency:(int)frequency forKey:(id)key;
-(int)emptyFrequencyForMailboxType:(int)mailboxType;
-(void)setEmptyFrequency:(int)frequency forMailboxType:(int)mailboxType;
// inherited: -(NSString*)displayName;
-(NSString*)displayNameForMailboxUid:(MailboxUid*)mailboxUid;
-(BOOL)containsMailboxes;
-(BOOL)_resetSpecialMailboxes;
-(void)resetSpecialMailboxes;
-(NSString*)mailboxPathExtension;
-(BOOL)canCreateNewMailboxes;
-(BOOL)newMailboxNameIsAcceptable:(id)acceptable reasonForFailure:(id*)failure;
-(BOOL)canMailboxBeRenamed:(id)renamed;
-(BOOL)canMailboxBeDeleted:(id)deleted;
-(BOOL)renameMailbox:(id)mailbox newName:(id)name parent:(id)parent;
-(BOOL)deleteMailbox:(id)mailbox;
-(void)_resetAllMailboxURLs:(BOOL)urls;
-(void)resetMailboxURLs;
// inherited: -(void)setUsername:(id)username;
// inherited: -(void)setHostname:(id)hostname;
-(BOOL)isHostnameEquivalentTo:(id)to;
-(BOOL)isAccountClassEquivalentTo:(id)to;
// inherited: -(void)setPortNumber:(unsigned)number;
// inherited: -(void)setValueInAccountProperties:(id)accountProperties forKey:(id)key;
-(void)postUserInfoHasChangedForMailboxUid:(id)mailboxUid userInfo:(id)info;
-(void)setConnectionError:(id)error;
-(id)connectionError;
-(id)storeForMailboxUid:(id)mailboxUid;
-(Class)storeClass;
-(Class)storeClassForMailbox:(id)mailbox;
-(void)setUnreadCount:(unsigned)count forMailbox:(id)mailbox;
-(BOOL)hasUnreadMail;
-(id)mailboxUidForRelativePath:(id)relativePath create:(BOOL)create;
-(NSString*)URLString;
-(id)mailboxUidForInfo:(id)info;
-(int)numberOfMessagesToFetch;
-(void)emptyTrash;
-(void)startListeningForNotifications;
-(void)stopListeningForNotifications;
-(void)systemDidWake;
-(void)systemWillSleep;
-(BOOL)canFetchMessagesByNumericRange;
-(BOOL)canForwardWithoutDownload;
-(void)setLibrary:(MessageLibrary*)library;
-(MessageLibrary*)library;
-(void)setupLibrary;
-(BOOL)shouldAppearInMailSettings;
-(BOOL)supportsRemoteAppend;
-(void)setCachePolicy:(int)policy;
-(int)cachePolicy;
-(NSString*)displayUsername;
-(BOOL)archiveSentMessages;
-(BOOL)deleteInPlace;
-(id)displayNameUsingSpecialNamesForMailboxUid:(id)mailboxUid;
-(BOOL)isEnabledForMeetings;
-(BOOL)reconstituteOrphanedMeetingInMessage:(id)message;
-(BOOL)hasEnoughInformationForEasySetup;
-(BOOL)willPerformActionForChokePoint:(id)chokePoint coalescePoint:(id)point result:(id*)result;
-(void)didFinishActionForChokePoint:(id)chokePoint coalescePoint:(id)point withResult:(id)result;
-(void)addUserFocusMailbox:(id)mailbox;
-(void)removeUserFocusMailbox:(id)mailbox;
@end

@interface MailAccount (Private)
+(id)_accountWithPath:(id)path;
+(void)_postMailAccountsHaveChanged;
+(void)_setOutboxMailboxUid:(id)uid;
-(BOOL)_setPath:(id)path;
// inherited: -(void)setIsActive:(BOOL)active;
-(int)_emptyFrequencyForKey:(id)key defaultValue:(id)value;
-(void)_postMailAccountsHaveChangedIfNeeded;
-(id)_pathComponentForUidName:(id)uidName;
-(id)_uidNameForPathComponent:(id)pathComponent;
-(id)_copyMailboxUidWithParent:(id)parent name:(id)name attributes:(unsigned)attributes existingMailboxUid:(id)uid permanentTag:(id)tag dictionary:(id)dictionary;
-(void)_synchronouslyLoadListingForParent:(id)parent;
-(BOOL)_loadMailboxListingIntoCache:(id)cache attributes:(unsigned)attributes children:(id)children parent:(id)parent;
-(void)_mailboxesWereRemovedFromTree:(id)tree withFileSystemPaths:(id)fileSystemPaths;
-(BOOL)_canReceiveNewMailNotifications;
-(BOOL)_usesMailboxCache;
-(id)_mailboxCachePath;
-(void)_synchronizeMailboxListWithFileSystem;
-(void)_loadEntriesFromFileSystemPath:(id)fileSystemPath parent:(id)parent;
-(void)_writeMailboxCacheWithPrejudice:(BOOL)prejudice;
-(BOOL)_setChildren:(id)children forMailboxUid:(id)mailboxUid;
-(BOOL)_deleteMailbox:(id)mailbox;
// inherited: -(id)description;
-(void)_fetchSynchronouslyIfNeeded;
-(void)_backgroundFetchCompletedCount:(unsigned)count;
-(void)_backgroundFetchCompleted;
-(id)_defaultSpecialMailboxNameForType:(int)type;
-(id*)_specialMailboxIvarOfType:(int)type;
-(id)_cachedSpecialMailboxOfType:(int)type;
-(BOOL)_assignSpecialMailboxToAppropriateIvar:(id)appropriateIvar forType:(int)type delete:(BOOL)aDelete;
-(void)_setSpecialMailboxName:(id)name forType:(int)type;
-(void)_setSpecialMailbox:(id)mailbox forType:(int)type;
-(id)_specialMailboxUidWithType:(int)type create:(BOOL)create;
-(BOOL)_canEmptyMessagesFromMailboxUid:(id)mailboxUid;
-(BOOL)_shouldLogDeleteActivity;
-(id)_infoForMatchingURL:(id)matchingURL;
-(id)_URLScheme;
-(id)_URLForInfo:(id)info;
-(id)_mailboxPathPrefix;
-(void)_readCustomInfoFromMailboxCache:(id)mailboxCache;
-(void)_writeCustomInfoToMailboxCache:(id)mailboxCache;
-(id)URLForMessage:(id)message;
-(BOOL)_cleanInboxDuplication:(id)duplication;
-(id)_deliveryAccountCreateIfNeeded:(BOOL)needed;
-(id)_copyMailboxWithParent:(id)parent name:(id)name attributes:(unsigned)attributes permanentTag:(id)tag dictionary:(id)dictionary;
-(id)_createMailboxWithParent:(id)parent name:(id)name attributes:(unsigned)attributes dictionary:(id)dictionary;
-(BOOL)moveMessages:(id)messages fromMailbox:(id)mailbox toMailbox:(id)mailbox3 markAsRead:(BOOL)read unsuccessfulOnes:(id)ones;
-(id)_localMailboxNameForType:(int)type usingDisplayName:(id)name;
-(BOOL)shouldRestoreMessagesAfterFailedDelete;
@end

